!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?exports.GeneralCalendar=e(require("moment")):t.GeneralCalendar=e(t.moment)}(window,function(t){return function(t){var e={};function a(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=3)}([function(t,e,a){"use strict";t.exports={toDouble:function(t){return t<10?"0"+t:t+""}}},function(e,a){e.exports=t},function(t,e,a){"use strict";var s,n=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}(),i=a(1),o=(s=i)&&s.__esModule?s:{default:s},r=a(0);var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},t.defaultOptions,e),this.init()}return n(t,[{key:"init",value:function(){var t=(0,o.default)(this.options.startDate),e=(0,o.default)(this.options.endDate),a=t.clone().startOf("month"),s=t.clone().endOf("month"),n=a.clone().startOf("week"),i=s.clone().endOf("week"),l=n.clone().endOf("month");i.clone().startOf("month");a.isSame(n)||(this.existPrevMonthDays=!0),a.isSame(t)||(this.existStartDisableDays=!0),s.isSame(e)||(this.existEndDisableDays=!0),s.isSame(i)||(this.existNextMonthDays=!0),this.startDate=t.date(),this.endDate=e.date(),this.firstDate=a.date(),this.lastDate=s.date(),this.prevMonthFirstDate=n.date(),this.prevMonthLastDate=l.date(),this.nextMonthLastDate=i.date(),this.YYYY=t.format("YYYY"),this.MM=t.format("MM"),this.prevMM=n.format("MM"),this.nextMM=i.format("MM"),this.todayDate=(0,o.default)().format("YYYY-MM-DD"),this.getDateCell=function(t,e,a,s,n,i,o,l){var h="日一二三四五六".split(""),d=0,u=0;for(u=n;u<=i;u++){var f=(0,r.toDouble)(u),D=this.YYYY+"-"+this.prevMM+"-"+f,c={date:D,weekday:d,week:h[d],year:this.YYYY,month:this.prevMM,day:f,enabled:l};l&&D===this.todayDate&&(this.existToday=!0,c.isToday=!0),t&&!l&&(c.isPrevMonth=!0,c.disabled=!0),e&&!l&&(c.disabled=!0),a&&!l&&(c.disabled=!0),s&&!l&&(c.isNextMonth=!0,c.disabled=!0),o.push(c),7===++d&&(d=0)}}}},{key:"getTotalDateCell",value:function(){var t=[];return this.existPrevMonthDays&&this.getDateCell(this.existPrevMonthDays,this.existStartDisableDays,this.existEndDisableDays,this.existNextMonthDays,this.prevMonthFirstDate,this.prevMonthLastDate,t),this.existStartDisableDays&&this.getDateCell(this.existPrevMonthDays,this.existStartDisableDays,this.existEndDisableDays,this.existNextMonthDays,1,this.startDate-1,t),this.isCurrent=!0,this.getDateCell(this.existPrevMonthDays,this.existStartDisableDays,this.existEndDisableDays,this.existNextMonthDays,this.startDate,this.endDate,t,this.isCurrent),this.existEndDisableDays&&this.getDateCell(this.existPrevMonthDays,this.existStartDisableDays,this.existEndDisableDays,this.existNextMonthDays,this.endDate+1,this.lastDate,t),this.existNextMonthDays&&this.getDateCell(this.existPrevMonthDays,this.existStartDisableDays,this.existEndDisableDays,this.existNextMonthDays,1,this.nextMonthLastDate,t),t}}]),t}();l.defaultOptions={startDate:"",endDate:""},t.exports=l},function(t,e,a){"use strict";var s=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}(),n=o(a(1)),i=(a(0),o(a(2)));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},t.defaultOptions,e)}return s(t,[{key:"isInvalidDate",value:function(){var t=this.options.startDate,e=this.options.endDate,a=function(t){return 3===(t=t.split(/\D/)).length};return a(t)&&a(e)&&(0,n.default)(t).isValid()&&(0,n.default)(e).isValid()}},{key:"getTotal",value:function(){var t=this.options.startDate,e=this.options.endDate,a=this.options.format,s=(0,n.default)(t),o=(0,n.default)(e),r=[],l=s.clone().startOf("month").format(a),h=o.clone().startOf("month").format(a),d=void 0;if(l===h)d=new i.default({startDate:t,endDate:e}),r.push({title:(0,n.default)(t).format("YYYY-MM"),dates:d.getTotalDateCell()}),d.existToday&&(this.todayDate={},this.todayDate.date=d.todayDate,this.todayDate.monthIndex=r.length-1);else{for(var u=t,f=(0,n.default)(t).endOf("month").format(a);u!==h;){console.warn(u),console.warn(h),d=new i.default({startDate:u,endDate:f}),r.push({title:(0,n.default)(u).format("YYYY-MM"),dates:d.getTotalDateCell()}),d.existToday&&(this.todayDate={},this.todayDate.date=d.todayDate,this.todayDate.monthIndex=r.length-1),console.log(f);var D=(0,n.default)(f).subtract(-1,"days");console.log(D),u=D.startOf("month").format(a),f=D.endOf("month").format(a),console.log(u),console.log(f)}d=new i.default({startDate:h,endDate:e}),r.push({title:(0,n.default)(h).format("YYYY-MM"),dates:d.getTotalDateCell()}),d.existToday&&(this.todayDate={},this.todayDate.date=d.todayDate,this.todayDate.monthIndex=r.length-1)}return r}},{key:"getToday",value:function(){return this.todayDate}}]),t}();r.defaultOptions={startDate:"",endDate:"",format:"YYYY-MM-DD"},t.exports=r}])});